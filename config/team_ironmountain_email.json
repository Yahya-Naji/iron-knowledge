{
  "provider": "autogen_agentchat.teams.RoundRobinGroupChat",
  "component_type": "team",
  "version": 1,
  "component_version": 1,
  "description": "Iron Mountain Email Team - Sends confirmation emails for box requests to both staff and customers",
  "label": "Iron Mountain Email Team",
  "config": {
    "name": "IronMountainEmailTeam",
    "description": "A team that handles email notifications for Iron Mountain box requests",
    "participants": [
      {
        "provider": "autogen_agentchat.agents.AssistantAgent",
        "component_type": "agent",
        "version": 2,
        "component_version": 2,
        "description": "Email agent for Iron Mountain notifications",
        "label": "EmailAgent",
        "config": {
          "name": "email_agent",
          "model_client": {
            "provider": "autogen_ext.models.openai.OpenAIChatCompletionClient",
            "component_type": "model",
            "version": 1,
            "component_version": 1,
            "description": "Chat completion client for OpenAI hosted models.",
            "label": "OpenAIChatCompletionClient",
            "config": {
              "model": "gpt-4o-mini",
              "api_key": "EbGPm3jVEt0IIuphskboJKohZcRosU3nIw9vBL7UYMRiaDsT7IpBJQQJ99BLACHYHv6XJ3w3AAAAACOGYxcr",
              "azure_endpoint": "https://azureopenaiquenterra.cognitiveservices.azure.com",
              "azure_deployment": "gpt-4o-mini",
              "api_version": "2024-06-01"
            }
          },
          "workbench": [
            {
              "provider": "autogen_ext.tools.mcp.McpWorkbench",
              "component_type": "workbench",
              "version": 1,
              "component_version": 1,
              "description": "Model Context Protocol server for Iron Mountain email operations",
              "config": {
                "server_params": {
                  "type": "StdioServerParams",
                  "command": "docker",
                  "args": [
                    "exec",
                    "-i",
                    "mcp_email",
                    "python",
                    "/workspace/ironmountain_mcp_email.py"
                  ],
                  "env": {},
                  "read_timeout_seconds": 30
                }
              },
              "label": "Iron Mountain Email MCP"
            }
          ],
          "model_context": {
            "provider": "autogen_core.model_context.UnboundedChatCompletionContext",
            "component_type": "chat_completion_context",
            "version": 1,
            "component_version": 1,
            "description": "An unbounded chat completion context that keeps a view of all the messages.",
            "label": "UnboundedChatCompletionContext",
            "config": {}
          },
          "description": "Email agent for sending box request confirmations",
          "system_message": "You are an email notification specialist for Iron Mountain document storage services.\n\nYour role is to send professional email confirmations when customers request empty boxes for document storage.\n\n**Available MCP Tools:**\n\n1. **send_internal_notification(account_number, customer_name, company_name, address, quantity, boxes_retained, total_boxes, timestamp)**\n   - Sends internal staff notification to yahya.naji@git-me.ae\n   - Use this to alert the warehouse team about new box requests\n   - Includes full customer details and inventory information\n\n2. **send_customer_confirmation(account_number, customer_name, address, quantity, boxes_retained, boxes_requested)**\n   - Sends customer confirmation to yahya.naji@git-me.ae (in demo, both go to same email)\n   - Use this to confirm the box request to the customer\n   - Includes delivery timeline (3-5 business days)\n\n3. **send_box_request_emails(account_number, customer_name, company_name, address, quantity, boxes_retained, boxes_requested)**\n   - Orchestrates sending BOTH internal and customer emails in one call\n   - Most efficient option when both emails are needed\n   - Returns confirmation of both emails sent\n\n**Email Configuration:**\n- Sender: yayanaji.yn@gmail.com (Iron Mountain Notifications)\n- Internal Recipient: yahya.naji@git-me.ae\n- Customer Recipient: yahya.naji@git-me.ae (in demo)\n- Format: HTML + Plain text fallback\n\n**Response Guidelines:**\n\n- When asked to send emails for a box request, use send_box_request_emails (sends both)\n- Confirm successful email delivery with specific details\n- Be professional and reassuring in your responses\n- Always include the quantity and estimated delivery time in confirmations\n- After sending emails, end with TERMINATE\n\n**Example Interactions:**\n\nUser: \"Send confirmation emails for account IM-10001, 5 boxes requested\"\nYou: Use send_box_request_emails(...) → \"✅ Emails sent! Internal notification sent to warehouse team, and customer confirmation sent to Yousef Al-Mansoori. 5 boxes will be delivered within 3-5 business days. TERMINATE\"\n\nUser: \"Send internal alert for IM-10002 requesting 3 boxes\"\nYou: Use send_internal_notification(...) → \"✅ Internal notification sent to yahya.naji@git-me.ae about Sarah Johnson's request for 3 boxes. TERMINATE\"\n\n**Critical Rules:**\n- Always verify you have all required parameters before sending\n- Use send_box_request_emails when both notifications are needed (most common)\n- Provide clear confirmation of what was sent and to whom\n- End with TERMINATE after emails are sent",
          "model_client_stream": false,
          "reflect_on_tool_use": true,
          "tool_call_summary_format": "{result}",
          "max_tool_iterations": 2,
          "metadata": {}
        }
      }
    ],
    "termination_condition": {
      "provider": "autogen_agentchat.base.OrTerminationCondition",
      "component_type": "termination",
      "version": 1,
      "component_version": 1,
      "label": "OrTerminationCondition",
      "config": {
        "conditions": [
          {
            "provider": "autogen_agentchat.conditions.TextMentionTermination",
            "component_type": "termination",
            "version": 1,
            "component_version": 1,
            "description": "Terminate when emails are sent",
            "label": "TextMentionTermination",
            "config": {
              "text": "TERMINATE"
            }
          },
          {
            "provider": "autogen_agentchat.conditions.MaxMessageTermination",
            "component_type": "termination",
            "version": 1,
            "component_version": 1,
            "description": "Terminate after max messages",
            "label": "MaxMessageTermination",
            "config": {
              "max_messages": 10,
              "include_agent_event": false
            }
          }
        ]
      }
    }
  }
}

